rule_id: R102
name: 週末勤務津貼
applies_to:
  entity: employee
  conditions:
    - field: weekend_hours
      operator: '>'
      value: 0
effect:
  type: per_hour_allowance
  target: weekend_allowance
  expression: weekend_hours * weekend_rate
  parameters:
    weekend_rate_ref: lookup_table.weekend_allowance.weekend_rate
    combine_with_night_ref: lookup_table.weekend_allowance.combine_with_night
  combination:
    with: night_allowance
    rule: stack_or_max
priority: 210
example:
  input:
    employee:
      id: E018
      name: Manon Perrot
      weekend_hours: 6
      night_hours: 4
    lookup_table:
      weekend_allowance:
        weekend_rate: 80
        combine_with_night: stack
      night_allowance:
        night_rate: 60
  output:
    weekend_allowance: 480
